语言: [English](README_en.md) | [中文](README.md)

# ModProtocols - 模组间多协议通信框架

## 核心定位

ModProtocols 是一套为游戏模组生态打造的多协议通信中间件，旨在为不同模组提供标准化、可扩展的交互能力。当前已实现 **ModHttpV1** 核心协议，后续将支持更多协议类型，构建完整的模组通信生态。

## 现有核心协议：ModHttpV1

### 协议特性

- 点对点全双工通信：支持任意两个模组间双向文本数据传输，无通信方向限制
- 异步非阻塞设计：基于 **UniTask** 实现异步消息处理，避免阻塞游戏主线程
- 文本协议基础：以字符串为消息载体，兼容各类文本格式（如 JSON、命令串等）
- 并发安全机制：通过线程安全队列与字典，保障多模组同时通信的稳定性

### 核心功能

- 模组注册和注销：支持模组动态接入（**RegisterClient**）与退出（**UnregisterClient**）通信系统
- 消息队列管理：为每个模组维护独立消息队列，自动处理消息积压（最大队列容量 200）
- 可靠消息传递：消息按发送顺序处理，失败时记录日志并继续执行，保障通信连续性
- 全双工交互：任意模组可同时作为发送方与接收方，实现双向实时通信

### 已落地场景：Terminal 跨模组互操作

基于 **ModHttpV1** 协议，已实现模组间的 Terminal（终端）互操作功能：

- 支持模组通过文本命令调用其他模组的终端功能
- 实现跨模组的指令转发、结果返回与状态同步
- 举例：A 模组可通过终端命令查询 B 模组的资源数据，B 模组处理后返回结果文本

## 未来扩展计划

- 二进制高效传输协议（适用于大数据量场景）
- 广播或组播协议（支持一对多批量通信）
- 事件订阅协议（基于主题的消息推送机制）

所有协议将保持统一接入层，确保模组开发者无需修改核心逻辑即可适配多种通信方式。

## 技术优势

- 轻量集成：基于 **Unity** 开发，仅需少量代码即可接入现有模组
- 无侵入设计：不影响模组原有功能，仅通过注册接口实现通信能力
- 完善日志：内置详细日志系统，便于调试跨模组通信问题
- 动态扩展：新协议可无缝接入框架，保持对旧协议的兼容性

## 许可证

本项目基于 MIT 许可证开源，详情见仓库中的 **LICENSE** 文件。

## 致谢

- 感谢 **Ducky.Sdk** 提供的支持


